{"id":"58e56bb0-05d0-453b-b1ed-74b43ea765ee","name":"Custom feedback scenario","scenario_trigger":"CustomFeedbackScenario","description":"demo of a custom feedback scenario to replace the built-in one","active":true,"updated":"2019-01-17T00:23:58.259Z","userDisplayName":"Oren Barnea","code":"{\"version\":3,\"steps\":[{\"id\":\"c9635207e80c-e23d3dabe193536f-6782\",\"type\":\"prompt\",\"dataType\":\"string\",\"designer\":{\"xLocation\":706,\"yLocation\":140,\"next\":\"2f8cb71fd9c7-bc6c2289dcd642dd-dcbd\"},\"text\":\"Great, I'm always happy to here feedback and try to get better. What do you have in mind?\",\"variable\":\"feedback\",\"stringId\":\"stringId_13a6fe45f807d4a4\",\"label\":\"Collect feedback\",\"layout\":\"vertical\",\"attachment\":[{\"type\":\"AdaptiveCard\",\"cardCode\":\"{\\r\\n    \\\"type\\\": \\\"AdaptiveCard\\\",\\r\\n    \\\"body\\\": [\\r\\n        {\\r\\n            \\\"type\\\": \\\"TextBlock\\\",\\r\\n            \\\"horizontalAlignment\\\": \\\"Center\\\",\\r\\n            \\\"size\\\": \\\"Medium\\\",\\r\\n            \\\"weight\\\": \\\"Bolder\\\",\\r\\n            \\\"text\\\": \\\"Input.Text elements\\\"\\r\\n        },\\r\\n        {\\r\\n            \\\"type\\\": \\\"Input.Text\\\",\\r\\n            \\\"id\\\": \\\"name\\\",\\r\\n            \\\"placeholder\\\": \\\"Name\\\"\\r\\n        },\\r\\n        {\\r\\n            \\\"type\\\": \\\"Input.Text\\\",\\r\\n            \\\"id\\\": \\\"comments\\\",\\r\\n            \\\"placeholder\\\": \\\"Comments\\\",\\r\\n            \\\"isMultiline\\\": true\\r\\n        },\\r\\n        {\\r\\n            \\\"type\\\": \\\"TextBlock\\\",\\r\\n            \\\"text\\\": \\\"Rank your experience  (1 - lowest, 5 - highest)\\\"\\r\\n        },\\r\\n        {\\r\\n            \\\"type\\\": \\\"Input.ChoiceSet\\\",\\r\\n            \\\"id\\\": \\\"rate\\\",\\r\\n            \\\"value\\\": \\\"5\\\",\\r\\n            \\\"choices\\\": [\\r\\n                {\\r\\n                    \\\"title\\\": \\\"1\\\",\\r\\n                    \\\"value\\\": \\\"1\\\"\\r\\n                },\\r\\n                {\\r\\n                    \\\"title\\\": \\\"2\\\",\\r\\n                    \\\"value\\\": \\\"2\\\"\\r\\n                },\\r\\n                {\\r\\n                    \\\"title\\\": \\\"3\\\",\\r\\n                    \\\"value\\\": \\\"3\\\"\\r\\n                },\\r\\n                {\\r\\n                    \\\"title\\\": \\\"4\\\",\\r\\n                    \\\"value\\\": \\\"4\\\"\\r\\n                },\\r\\n                {\\r\\n                    \\\"title\\\": \\\"5\\\",\\r\\n                    \\\"value\\\": \\\"5\\\"\\r\\n                }\\r\\n            ],\\r\\n            \\\"style\\\": \\\"expanded\\\"\\r\\n        }\\r\\n    ],\\r\\n    \\\"actions\\\": [\\r\\n        {\\r\\n            \\\"type\\\": \\\"Action.Submit\\\",\\r\\n            \\\"title\\\": \\\"Submit feedback\\\",\\r\\n            \\\"data\\\": {\\r\\n                \\\"id\\\": \\\"1234567890\\\"\\r\\n            }\\r\\n        }\\r\\n    ],\\r\\n    \\\"$schema\\\": \\\"http://adaptivecards.io/schemas/adaptive-card.json\\\",\\r\\n    \\\"version\\\": \\\"1.0\\\"\\r\\n}\"}]},{\"id\":\"2f8cb71fd9c7-bc6c2289dcd642dd-dcbd\",\"type\":\"action\",\"label\":\"Log feedback\",\"designer\":{\"xLocation\":709,\"yLocation\":216,\"next\":\"71091f25824c-a470ce7928365f25-0c74\"},\"onInit\":\"/*\\n * Use the following variable notation:\\n * \\n * ${var} = scenario local variables\\n * &{var} = user data variables\\n * @{var} = global conversation variables\\n * \\n * Available object to use in the code:\\n * require, session, moment, builder, next(), setTimeout, underscore\\n * \\n * Hit 'Ctrl + Space' for autocomplete\\n * \\n * Example: ${welcomeMessage} = \\\"Hello \\\" + ${name}\\n*/\\nvar feedback = JSON.parse(${feedback});\\nvar feedbackText = \\\"Name: \\\" + feedback.name + '\\\\n' + \\\"Comments: \\\" + feedback.comments + \\\"\\\\n\\\" + \\\"Rank: \\\" + feedback.rate;\\nsession.saveFeedback(feedbackText);\",\"async\":false},{\"id\":\"71091f25824c-a470ce7928365f25-0c74\",\"type\":\"statement\",\"designer\":{\"xLocation\":700,\"yLocation\":320},\"text\":\"Thanks mate, you feedback was logged !\",\"stringId\":\"stringId_40288dba00f95943\",\"label\":\"Feedback logged\"}],\"returningMessage\":\"\",\"interrupting\":false,\"breaking\":false}"}