{
  "id": "8a79252c-7d67-4451-8d1d-60e0cf5226b7",
  "name": "Lab results",
  "scenario_trigger": "LabResults",
  "description": "allow the user to ask about latest lab results",
  "active": true,
  "updated": "2019-01-15T00:00:00.000Z",
  "userDisplayName": "Microsoft Healthcare",
  "code": "{\"version\":3,\"steps\":[{\"id\":\"656ecd51f1d7-59d358bbea3943fc-ecdb\",\"type\":\"beginScenario\",\"designer\":{\"xLocation\":387,\"yLocation\":20,\"next\":\"a2a06cc97fa6-d1b2f671ed291eb7-2549\"},\"scenario\":\"CollectUserInformation\",\"variable\":\"\"},{\"id\":\"7e99b5c2c248-d52cbd3a9fe664d5-a644\",\"type\":\"prompt\",\"dataType\":\"[\\\"nothing\\\",\\\"check my lab results\\\"]\",\"designer\":{\"xLocation\":360,\"yLocation\":168,\"listStyle\":3,\"next\":\"4b30371532ca-a1d3fe117cc31d59-2c93\"},\"text\":\"\\\"Hi \\\" + &{firstName} + \\\" What would you like to do?\\\"\",\"variable\":\"userchoice\",\"stringId\":\"stringId_d75b0098e96fd546\",\"maxRetries\":1,\"label\":\"Hi\"},{\"id\":\"4b30371532ca-a1d3fe117cc31d59-2c93\",\"type\":\"switch\",\"designer\":{\"xLocation\":340,\"yLocation\":230},\"cases\":[{\"value\":\"0\",\"targetStepId\":\"abeb1471bac4-e445f28ccca7a0b4-5505\"},{\"value\":\"1\",\"targetStepId\":\"f3b8f79345fb-a0b483dafa04c3af-4456\"}],\"condition\":\"${userchoice}.index\",\"label\":\"Switch\"},{\"id\":\"abeb1471bac4-e445f28ccca7a0b4-5505\",\"type\":\"statement\",\"designer\":{\"xLocation\":240,\"yLocation\":349},\"text\":\"\\\"o.k good bye!\\\"\",\"stringId\":\"stringId_ac08c9aa26638f61\",\"label\":\"Bye\"},{\"id\":\"f3b8f79345fb-a0b483dafa04c3af-4456\",\"type\":\"datasource\",\"designer\":{\"xLocation\":420,\"yLocation\":340,\"next\":\"b260363c210f-67dab24a0b2b142d-4cb1\"},\"dataConnection\":\"\",\"urlBase\":\"https://scenariocatalogprod.azurewebsites.net\",\"urlPath\":\"/labresults\",\"urlParams\":\"\\\"tk=\\\" + @{tk} + \\\"&id=\\\" + &{id}\",\"method\":\"get\",\"headers\":\"\",\"opJson\":true,\"opResolveWithFullResponse\":false,\"response\":\"labResults\",\"error\":\"labResultsErr\",\"label\":\"API call\"},{\"id\":\"b260363c210f-67dab24a0b2b142d-4cb1\",\"type\":\"action\",\"label\":\"Logic calc\",\"designer\":{\"xLocation\":420,\"yLocation\":392,\"next\":\"ed14306ddae2-9d3ea657d8636eff-e78a\"},\"onInit\":\"/*\\n * Use the following variable notation:\\n * \\n * ${var} = scenario local variables\\n * &{var} = user data variables\\n * @{var} = global conversation variables\\n * \\n * Available object to use in the code:\\n * require, session, moment, builder, next(), setTimeout, underscore\\n * \\n * Hit 'Ctrl + Space' for autocomplete\\n * \\n * Example: ${welcomeMessage} = \\\"Hello \\\" + ${name}\\n*/\\n\\nsession.trace(${labResults});\\n\\n${abnormal} = false;\\n${labResults}.labresults.forEach((labResult) => {\\n    if (labResult.value < labResult.standard_range_min || labResult.value > labResult.standard_range_max) {\\n        ${abnormal} = true;\\n    }\\n});\\n\"},{\"id\":\"ed14306ddae2-9d3ea657d8636eff-e78a\",\"type\":\"branch\",\"condition\":\"${abnormal}\",\"designer\":{\"xLocation\":420,\"yLocation\":480,\"next\":\"12e108e25f91-520956f2c71aeba7-b7ad\"},\"targetStepId\":\"e4ccea429c58-80f4e0e3c138f6f9-f486\",\"label\":\"results ?\"},{\"id\":\"12e108e25f91-520956f2c71aeba7-b7ad\",\"type\":\"statement\",\"designer\":{\"xLocation\":340,\"yLocation\":560},\"text\":\"Your lab results are good\",\"stringId\":\"stringId_c716e9b1e870d932\",\"label\":\"Good\"},{\"id\":\"e4ccea429c58-80f4e0e3c138f6f9-f486\",\"type\":\"statement\",\"designer\":{\"xLocation\":480,\"yLocation\":560},\"text\":\"abnormal results were detected \",\"stringId\":\"stringId_9d6c32b7e368a53f\",\"label\":\"Abnormal\"},{\"id\":\"a2a06cc97fa6-d1b2f671ed291eb7-2549\",\"type\":\"action\",\"label\":\"token\",\"designer\":{\"xLocation\":374,\"yLocation\":100,\"next\":\"7e99b5c2c248-d52cbd3a9fe664d5-a644\"},\"onInit\":\"/*\\n * Use the following variable notation:\\n * \\n * ${var} = scenario local variables\\n * &{var} = user data variables\\n * @{var} = global conversation variables\\n * \\n * Available object to use in the code:\\n * require, session, moment, builder, next(), setTimeout, underscore\\n * \\n * Hit 'Ctrl + Space' for autocomplete\\n * \\n * Example: ${welcomeMessage} = \\\"Hello \\\" + ${name}\\n*/\\n\\n@{tk} = \\\"83cf6c2a-397e-4626-9b71-1f956e551939\\\";\"}],\"returningMessage\":\"\",\"interrupting\":false,\"breaking\":false}"
}