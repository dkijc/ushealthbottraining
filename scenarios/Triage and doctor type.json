{"id":"4d011ae9-513d-4697-a107-f6b97632670b","name":"Triage and doctor type","scenario_trigger":"TriageAndDocTypes","description":"Triage flow and then stating the doctor types for the mots likely disease","active":true,"updated":"2019-01-16T22:31:21.527Z","userDisplayName":"Oren Barnea","code":"{\"version\":3,\"steps\":[{\"id\":\"2a413cb11c04-cd61e640859bd235-39f7\",\"type\":\"prompt\",\"dataType\":\"string\",\"designer\":{\"xLocation\":160,\"yLocation\":27,\"next\":\"9ff8ebbcf94e-bd222e9b1f4c8cad-922d\"},\"text\":\"What brings you here today? \\r\\nPlease describe the problem so the nurse is ready to help.\",\"variable\":\"complaint\",\"label\":\"Complaint\",\"stringId\":\"stringId_d77601961c9635db\"},{\"id\":\"9ff8ebbcf94e-bd222e9b1f4c8cad-922d\",\"type\":\"beginScenario\",\"designer\":{\"xLocation\":180,\"yLocation\":100,\"next\":\"d69355dd3c98-936d05c679202d64-0aff\"},\"scenario\":\"/healthnavigator\",\"args\":\"// Pass the complaint var as input to the built in trigae\\r\\n${complaint}\",\"variable\":\"results\",\"label\":\"Start triage\"},{\"id\":\"d69355dd3c98-936d05c679202d64-0aff\",\"type\":\"branch\",\"condition\":\"// Low disposition is detected suggestion would be self care at home.\\r\\n// suggest the patient self care before connecting to the nurse line\\r\\n${results}.triage.rating >= 15\",\"designer\":{\"xLocation\":180,\"yLocation\":192,\"next\":\"2cf346fae165-c97330c948cd6b00-16bc\"},\"targetStepId\":\"19cbfb8dc9b5-872ab2f2f6abdc96-68d7\",\"label\":\"Disposition filter\"},{\"id\":\"19cbfb8dc9b5-872ab2f2f6abdc96-68d7\",\"type\":\"beginScenario\",\"designer\":{\"xLocation\":260,\"yLocation\":254,\"next\":\"8855454c41c3-13762f8efcffba5c-3bb3\"},\"scenario\":\"/healthnavigator/specialties\",\"args\":\"{\\r\\n    \\\"text\\\" : \\\"who treats \\\" + ${results}.possibleCauses.causes[0].TitlePlainLanguage\\r\\n}\",\"variable\":\"docs\"},{\"id\":\"2cf346fae165-c97330c948cd6b00-16bc\",\"type\":\"statement\",\"designer\":{\"xLocation\":80,\"yLocation\":260},\"text\":\"keep calm, you are just fine\",\"stringId\":\"stringId_90c617f4545776b9\"},{\"id\":\"8855454c41c3-13762f8efcffba5c-3bb3\",\"type\":\"action\",\"label\":\"Action\",\"designer\":{\"xLocation\":260,\"yLocation\":340,\"next\":\"e716d133df9b-36ba24e76a17997c-0123\"},\"onInit\":\"/*\\n * Use the following variable notation:\\n * \\n * ${var} = scenario local variables\\n * &{var} = user data variables\\n * @{var} = global conversation variables\\n * \\n * Available object to use in the code:\\n * require, session, moment, builder, next(), setTimeout, underscore\\n * \\n * Hit 'Ctrl + Space' for autocomplete\\n * \\n * Example: ${welcomeMessage} = \\\"Hello \\\" + ${name}\\n*/\\n\\n\\n${docsArr} = ${docs}[0].result.map((doc) => doc.Doctor)\"},{\"id\":\"e716d133df9b-36ba24e76a17997c-0123\",\"type\":\"statement\",\"designer\":{\"xLocation\":260,\"yLocation\":440},\"text\":\"${docsArr}.join('\\\\n')\",\"stringId\":\"stringId_f5fbe8102ef3b608\"}],\"returningMessage\":\"\",\"interrupting\":false,\"breaking\":false}"}